{"version":3,"sources":["components/common/pagination.jsx","components/bookDetails/BookBorrowings.jsx","components/bookDetails.jsx","components/booksTable.jsx","components/categories.jsx","services/bookService.js","services/categoryService.js","components/common/input.jsx","services/placeService.js","components/addBookForm.jsx","components/updateBook.jsx","components/addBook.jsx","services/borrowingService.js","services/readerService.js","components/borrowingForm.jsx","components/borrowBook.jsx","components/books.jsx","components/naviagtion.jsx","services/loginService.js","components/loginForm.jsx","components/manageCategories.jsx","components/manageReaders.jsx","components/managePlaces.jsx","components/adminPanel.jsx","components/notFound.jsx","App.js","serviceWorker.js","index.js"],"names":["Pagination","props","itemsCount","pageSize","currentPage","onPageChange","pagesCount","Math","ceil","pages","Array","keys","map","i","Fragment","aria-label","className","key","onClick","page","REACT_APP_API_URL","process","BookBorrowings","bookId","useState","borrowings","setBorrowings","useEffect","axios","get","then","data","console","log","ListGroup","b","active","ListGroupItem","style","padding","variant","id","readerName","date","quantity","position","right","bottom","borrowing","post","headers","authorization","localStorage","getItem","prev","filter","catch","err","error","message","BookDetails","state","book","activeBorrows","prevBorrows","this","places","Modal","size","aria-labelledby","centered","Header","closeButton","Title","title","Body","src","image","width","height","objectFit","marginBottom","display","flexDirection","color","author","href","link","location","place","margin","description","Component","BooksTable","current_book","to_delete","deleteBorrowing","borrowing_id","stopPropagationAndCall","func","e","stopPropagation","checkAvailibility","available","books","onEdit","onDelete","onBorrow","onSort","categories","logged","setState","data-toggle","data-placement","disabled","DeleteForever","Edit","ArrowUpward","category","show","onHide","Categories","onFilter","Dropdown","Toggle","Menu","Item","cat","name","apiEndpoint","deleteBook","method","url","editBook","addBook","getCategories","addCategory","deleteCategory","updateCategory","Input","label","value","onChange","type","noValidate","getPlaces","addPlace","deletePlace","updatePlace","AddBookForm","options","placesOptions","editedBook","categoryId","placeId","editing","addingCategory","image_link","minQuantity","resizeFile","file","Promise","resolve","Resizer","imageFileResizer","uri","validateForm","handleUrlChange","a","target","toDataURL","dataUrl","handleChange","handleSelect","handleSelectPlace","handleSubmit","originalQuantity","preventDefault","parseInt","to_save_image","onDoneEdit","res","onDoneAdd","warn","response","Error","handleOnDrop","files","length","currentFile","handlePictureCrop","handleAddCategory","modifyStateWithEditedBook","rest","callback","xhr","XMLHttpRequest","onload","reader","FileReader","onloadend","result","readAsDataURL","open","responseType","send","nextProps","sort","pl","onSubmit","find","min","htmlFor","rows","alt","marginTop","onDrop","getRootProps","getInputProps","role","UpdateBook","aria-hidden","history","AddBook","addBorrowing","getReaders","addReader","deleteReader","updateReader","BorrowingForm","personId","personName","readerId","onDoneBorrow","readers","max","BorrowBook","BooksView","totalCount","sortColumn","order","currentCategory","categoriesLookup","Map","placesLookup","borrowedBook","adding","loading","searchPhrase","confirmDelete","confirmAlert","buttons","handleDelete","handleEdit","window","scrollTo","handleEditDone","forEach","push","handleAdd","handleAddDone","handleBorrow","handleBorrowDone","handlePageChange","reloadBooks","handleSort","column","handleFilter","handleSearchEdit","event","handleSearchSubmit","myRef","search","params","sortBy","booksRes","results","readersData","r","set","lookup","lookup2","alignItems","current","flexGrow","placeholder","Alert","justifyContent","Spinner","animation","ref","Navigation","Navbar","sticky","bg","expand","Brand","aria-controls","Collapse","Form","inline","Button","login","password","LoginForm","account","username","errors","validate","jwt","setItem","token","handleLogin","currentTarget","autoFocus","ManageCategories","new_category","edited_category","c","edited","toEdit","handleEditChange","categories_data","onKeyDown","ManageReaders","new_reader","edited_reader","readers_data","ManagePlaces","new_place","edited_place","places_data","AdminPanel","logged_in","handleLogout","removeItem","NotFound","App","path","exact","component","from","to","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0c167049.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Pagination = (props) => {\n  const { itemsCount, pageSize, currentPage, onPageChange } = props;\n  const pagesCount = Math.ceil(itemsCount / pageSize);\n  if (pagesCount <= 1) return null;\n  const pages = [...Array(pagesCount).keys()].map((i) => i + 1);\n  return (\n    <React.Fragment>\n      <nav aria-label=\"Page navigation example\">\n        <ul className=\"pagination\">\n\n        <li\n              key={'prev'}\n              className={\n                currentPage > 1 ? \"page-item\" : \"page-item disabled\"\n              }\n            >\n              <a className=\"page-link\" onClick={() => onPageChange(currentPage-1)}>\n                Poprzednia\n              </a>\n            </li>\n\n\n          {pages.map((page) => (\n            <li\n              key={page}\n              className={\n                page === currentPage ? \"page-item active\" : \"page-item\"\n              }\n            >\n              <a className=\"page-link\" onClick={() => onPageChange(page)}>\n                {page}\n              </a>\n            </li>\n          ))}\n\n\n            <li\n              key={'next'}\n              className={\n                currentPage < pagesCount ? \"page-item\" : \"page-item disabled\"\n              }\n            >\n              <a className=\"page-link\" onClick={() => onPageChange(currentPage+1)}>\n                Następna\n              </a>\n            </li>\n\n\n        </ul>\n      </nav>\n    </React.Fragment>\n  );\n};\n\nPagination.propTypes = {\n  itemsCount: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  onPageChange: PropTypes.func.isRequired,\n};\n\nexport default Pagination;\n","import React, {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport ListGroupItem from \"react-bootstrap/ListGroupItem\";\n\nconst {REACT_APP_API_URL} = process.env;\n\nconst BookBorrowings = ({bookId}) => {\n    const [borrowings, setBorrowings] = useState([]);\n\n    useEffect(() => {\n        if (bookId) {\n            axios\n                .get(`${REACT_APP_API_URL}books/${bookId}/borrowings`)\n                .then(({data}) => {\n                    console.log(\"borrowings\", data);\n                    setBorrowings(data);\n                });\n        }\n    }, [bookId]);\n\n    const handleCancelBorrowing = (borrowing) => {\n        axios\n            .post(`${REACT_APP_API_URL}borrowings/${borrowing.id}/cancel`, {}, {\n                headers: { authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n            })\n            .then(({data}) => {\n                console.log(data);\n                setBorrowings(prev => prev.filter(({id}) => id !== borrowing.id))\n            })\n            .catch(err => {\n                // TODO: Display to user.\n                console.error('Error when cenceling borrowing: ', err.message);\n            })\n    };\n\n    return (\n        <div>\n            <ListGroup>\n                {borrowings.map((b) =>\n                    b.active ? (\n                        <ListGroupItem style={{padding: 5}} variant=\"success\" key={b.id}>\n                            {b.readerName} : {b.date} : {b.quantity}\n                            <button\n                                style={{\n                                    position: \"absolute\",\n                                    right: 5,\n                                    bottom: 1,\n                                }}\n                                className=\"btn btn-outline-danger btn-sm\"\n                                onClick={() => handleCancelBorrowing(b)}\n                            >\n                                X\n                            </button>\n                        </ListGroupItem>\n                    ) : null\n                )}\n            </ListGroup>\n        </div>\n    );\n};\n\nexport default BookBorrowings;\n","import React, { Component } from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport ListGroupItem from \"react-bootstrap/ListGroupItem\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\nimport BookBorrowings from \"./bookDetails/BookBorrowings\";\n\nclass BookDetails extends Component {\n  state = {\n    book: this.props.book,\n    activeBorrows: [],\n    prevBorrows: [],\n  };\n\n  render() {\n    const { book, places } = this.props;\n\n    if (book) {\n      return (\n        <Modal\n          {...this.props}\n          size=\"lg\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n        >\n          <Modal.Header closeButton>\n            <Modal.Title id=\"contained-modal-title-vcenter\">\n              {book.title}\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <div>\n              <div className=\"container\">\n                <div className=\"row\">\n                  <div className=\"col-sm\">\n                    <img\n                      src={book.image}\n                      width=\"300\"\n                      height=\"400\"\n                      style={{ objectFit: \"contain\", marginBottom: 15 }}\n                    />\n                  </div>\n                  <div className=\"col-sm\">\n                    <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                      <span>\n                        <h2>{book.title}</h2>\n                      </span>\n                      <span>\n                        <h4 style={{ color: \"#585858\" }}>{book.author}</h4>\n                      </span>\n                      <span>\n                        <a href={book.link}>Strona z książką</a>\n                      </span>\n                      {localStorage.getItem(\"token\") ? (\n                        <ListGroup>\n                          <ListGroupItem>{book.location}</ListGroupItem>\n                          <ListGroupItem>\n                            Lokalizacja: {places.get(book.place)}\n                          </ListGroupItem>\n                          <ListGroupItem>\n                            Ilość egzemplarzy: {book.quantity}\n                          </ListGroupItem>\n                          <ListGroupItem>\n                            {\" \"}\n                            Wypożyczenia:\n                            <BookBorrowings bookId={book.id} />\n                          </ListGroupItem>\n                        </ListGroup>\n                      ) : null}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div style={{ margin: 20 }}>\n                <span>{book.description}</span>\n              </div>\n            </div>\n          </Modal.Body>\n        </Modal>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default BookDetails;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ArrowUpward, DeleteForever, Edit } from \"@material-ui/icons/\";\nimport BookDetails from \"./bookDetails\";\nimport { Spinner } from \"react-bootstrap\";\n\nclass BooksTable extends Component {\n  state = {\n    current_book: null,\n    to_delete: null,\n  };\n\n  // Edytuj tu książkę,\n\n  deleteBorrowing = (book, borrowing_id) => {\n    console.log(book, borrowing_id);\n  };\n\n  stopPropagationAndCall = (func) => (e) => {\n    e.stopPropagation();\n    func();\n  };\n\n  checkAvailibility = (book) => {\n    return book.available <= 0;\n  };\n\n  render() {\n    const {\n      books,\n      onEdit,\n      onDelete,\n      onBorrow,\n      onSort,\n      categories,\n      places,\n      logged,\n    } = this.props;\n\n    const { current_book } = this.state;\n\n    return (\n      <div className=\"table-responsive\">\n        <table className=\"table table-hover\">\n          <thead>\n            <tr>\n              {logged ? <th></th> : null}\n              {logged ? <th></th> : null}\n              {logged ? <th></th> : null}\n              <th className=\"clickable\" onClick={() => onSort(\"title\")}>\n                Tytuł\n              </th>\n\n              <th className=\"clickable\" onClick={() => onSort(\"author\")}>\n                Autor(ka)\n              </th>\n              <th>Kategoria</th>\n              <th>Dostępnych</th>\n            </tr>\n          </thead>\n          <tbody>\n            {books.map((book) => (\n              <tr\n                className=\"clickable\"\n                onClick={() => {\n                  this.setState({ current_book: book });\n                }}\n                key={book.id}\n              >\n                {logged ? (\n                  <td>\n                    <button\n                      className=\"btn btn-outline-danger btn-sm\"\n                      data-toggle=\"tooltip\"\n                      data-placement=\"bottom\"\n                      title=\"Usuń\"\n                      disabled={false}\n                      onClick={this.stopPropagationAndCall(() =>\n                        onDelete(book)\n                      )}\n                    >\n                      <DeleteForever />\n                    </button>\n                  </td>\n                ) : null}\n                {logged ? (\n                  <td>\n                    <button\n                      className=\"btn btn-outline-primary btn-sm\"\n                      data-toggle=\"tooltip\"\n                      data-placement=\"bottom\"\n                      title=\"Edytuj\"\n                      onClick={this.stopPropagationAndCall(() => onEdit(book))}\n                    >\n                      <Edit />\n                    </button>\n                  </td>\n                ) : null}\n                {logged ? (\n                  <td>\n                    <button\n                      className=\"btn btn-outline-warning btn-sm\"\n                      data-toggle=\"tooltip\"\n                      data-placement=\"bottom\"\n                      title=\"Wypożycz\"\n                      disabled={this.checkAvailibility(book)}\n                      onClick={this.stopPropagationAndCall(() =>\n                        onBorrow(book)\n                      )}\n                    >\n                      <ArrowUpward />\n                    </button>\n                  </td>\n                ) : null}\n                <td>{book.title}</td>\n                <td>{book.author}</td>\n                <td>{categories.get(book.category)}</td>\n                <td>{book.available}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        <BookDetails\n          show={current_book && true}\n          onHide={() => this.setState({ current_book: null })}\n          book={current_book}\n          places={places}\n        />\n      </div>\n    );\n  }\n}\n\nBooksTable.propTypes = {\n  onDelete: PropTypes.func.isRequired,\n};\n\nexport default BooksTable;\n","import React from \"react\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\n\nconst Categories = ({ categories, onFilter }) => {\n  return (\n    <Dropdown>\n      <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n        Kategorie\n      </Dropdown.Toggle>\n\n      <Dropdown.Menu>\n        <Dropdown.Item onClick={() => onFilter(null)}>Wszystkie</Dropdown.Item>\n        {categories.map((cat) => (\n          <Dropdown.Item key={cat.id} onClick={() => onFilter(cat.id)}>\n            {cat.name}\n          </Dropdown.Item>\n        ))}\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};\n\nexport default Categories;\n","import axios from \"axios\";\n\nconst apiEndpoint = process.env.REACT_APP_API_URL + \"books/\";\n\nexport function getBooks(params) {\n  return axios.get(apiEndpoint, {\n    params: params,\n  });\n}\n\nexport function getBook(id) {\n  return axios.get(apiEndpoint + id);\n}\n\nexport function getBooksBorrowings(id) {\n  return axios.get(apiEndpoint + id + \"/borrowings\");\n}\n\nexport function deleteBook(id) {\n  return axios({\n    method: \"delete\",\n    url: apiEndpoint + id,\n    headers: { authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n  });\n}\n\nexport function editBook(data) {\n  return axios({\n    method: \"put\",\n    url: apiEndpoint + data.id,\n    headers: { authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    data,\n  });\n}\n\nexport function addBook(data) {\n  console.log(\"w serwisie: \", data);\n  return axios({\n    method: \"post\",\n    url: apiEndpoint,\n    headers: {\n      authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n    },\n    data,\n  });\n}\n","import axios from \"axios\";\n\nconst apiEndpoint = process.env.REACT_APP_API_URL + \"categories/\";\n\nexport function getCategories() {\n  return axios.get(apiEndpoint);\n}\n\nexport function addCategory(name) {\n  return axios({\n    method: \"post\",\n    url: apiEndpoint,\n    headers: {\n      authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n    },\n    data: {\n      name,\n    },\n  });\n}\n\nexport function deleteCategory(id) {\n  return axios({\n    method: \"delete\",\n    url: apiEndpoint + id,\n    headers: { authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n  });\n}\n\nexport function updateCategory(id, name) {\n  return axios({\n    method: \"put\",\n    url: apiEndpoint + id,\n    headers: { authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    data: {\n      id,\n      name,\n    },\n  });\n}\n","import React from \"react\";\n\nconst Input = (props) => {\n  const { label, name, value, onChange, type } = props;\n  return (\n    <div className=\"form-group\">\n      <label>{label}</label>\n      <input\n        className=\"form-control\"\n        name={name}\n        value={value}\n        onChange={onChange}\n        type={type}\n        noValidate\n      ></input>\n    </div>\n  );\n};\n\nexport default Input;\n","import axios from \"axios\";\n\nconst apiEndpoint = process.env.REACT_APP_API_URL + \"places/\";\n\nexport function getPlaces() {\n  return axios.get(apiEndpoint);\n}\n\nexport function addPlace(name) {\n  return axios({\n    method: \"post\",\n    url: apiEndpoint,\n    headers: {\n      authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n    },\n    data: {\n      name,\n    },\n  });\n}\n\nexport function deletePlace(id) {\n  return axios({\n    method: \"delete\",\n    url: apiEndpoint + id,\n    headers: { authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n  });\n}\n\nexport function updatePlace(id, name) {\n  return axios({\n    method: \"put\",\n    url: apiEndpoint + id,\n    headers: { authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    data: {\n      id,\n      name,\n    },\n  });\n}\n","import React, { Component } from \"react\";\nimport { addBook, editBook } from \"../services/bookService\";\nimport Dropzone from \"react-dropzone\";\nimport Resizer from \"react-image-file-resizer\";\nimport Input from \"./common/input\";\nimport { getPlaces } from \"../services/placeService\";\nimport Select from \"react-select\";\nimport { getCategories } from \"../services/categoryService\";\n\nclass AddBookForm extends Component {\n  state = {\n    categories: [],\n    places: [],\n    options: [],\n    placesOptions: [],\n    image: null,\n    editedBook: null,\n    title: \"\",\n    author: \"\",\n    description: \"\",\n    quantity: 1,\n    link: \"\",\n    location: \"\",\n    id: \"\",\n    categoryId: null,\n    placeId: null,\n    error: null,\n    editing: false,\n    addingCategory: false,\n    image_link: \"\",\n    minQuantity: 0,\n  };\n\n  resizeFile = (file) =>\n    new Promise((resolve) => {\n      Resizer.imageFileResizer(\n        file,\n        500,\n        500,\n        \"JPEG\",\n        70,\n        0,\n        (uri) => {\n          resolve(uri);\n        },\n        \"base64\"\n      );\n    });\n\n  validateForm = () => {\n    const { title, author, quantity } = this.state;\n\n    if (title === \"\" || author === \"\" || quantity === \"\") {\n      return true;\n    }\n\n    return false;\n  };\n\n  toDataURL(url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.onload = function () {\n      var reader = new FileReader();\n      reader.onloadend = function () {\n        callback(reader.result);\n      };\n      reader.readAsDataURL(xhr.response);\n    };\n    xhr.open(\"GET\", url);\n    xhr.responseType = \"blob\";\n    xhr.send();\n  }\n\n  handleUrlChange = async (e) => {\n    console.log(e.target.value);\n    this.toDataURL(e.target.value, (dataUrl) => {\n      this.setState({ image: dataUrl });\n    });\n  };\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSelect = (e) => {\n    this.setState({ categoryId: e.value });\n  };\n\n  handleSelectPlace = (e) => {\n    this.setState({ placeId: e.value });\n  };\n\n  handleSubmit = (e) => {\n    const {\n      image,\n      title,\n      author,\n      description,\n      quantity,\n      link,\n      location,\n      categoryId,\n      placeId,\n      editing,\n      available,\n      id,\n      image_link,\n      originalQuantity,\n    } = this.state;\n    e.preventDefault();\n    const newAvailibility =\n      parseInt(available) + parseInt(quantity - originalQuantity);\n    let editedBook = {\n      title,\n      author,\n      description,\n      quantity,\n      link,\n      location,\n      category: categoryId,\n      place: placeId,\n      available: newAvailibility,\n      id,\n    };\n    let to_save_image = image_link;\n    if (image_link === \"\") {\n      to_save_image = image;\n    }\n    if (editing) {\n      editedBook = { ...editedBook, image: to_save_image };\n      console.log(editedBook);\n      this.props.onDoneEdit(editedBook);\n      editBook(editedBook).then((res) => {\n        console.log(\"edited, \", res);\n      });\n      console.log(\"editing\");\n    } else {\n      console.log(\"Dodawaaanieee\");\n      addBook({ ...editedBook, image: to_save_image })\n        .then((res) => {\n          console.log(res);\n          this.props.onDoneAdd(res.data.message);\n        })\n        .catch((err) => {\n          console.warn(err.message);\n\n          if (err.response) {\n            const { data } = err.response;\n            const { message = \"Niepoprawne dane\" } = data || {};\n            this.setState({ error: new Error(message) });\n          } else {\n            this.setState({ error: err });\n          }\n        });\n    }\n  };\n\n  handleOnDrop = async (files) => {\n    if (files && files.length > 0) {\n      const currentFile = files[0];\n      const image = await this.resizeFile(currentFile);\n      console.log(image);\n      this.setState({ image });\n      // const myFileItemReader = new FileReader();\n      // myFileItemReader.addEventListener(\"load\", () => {\n      //   const result = myFileItemReader.result;\n\n      //   this.setState({ image: result });\n      // });\n      // myFileItemReader.readAsDataURL(currentFile);\n    }\n  };\n\n  handlePictureCrop = (image) => {\n    this.setState({ image });\n  };\n\n  handleAddCategory = () => {\n    this.setState({ addingCategory: true });\n    console.log(\"Dodawanie kategorii\");\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.modifyStateWithEditedBook(nextProps.book);\n  }\n\n  modifyStateWithEditedBook = (book) => {\n    if (book) {\n      const { quantity, available, category, place, ...rest } = book;\n      this.setState({\n        ...rest,\n        originalQuantity: quantity,\n        quantity,\n        categoryId: category,\n        placeId: place,\n        available,\n        minQuantity: quantity - available,\n      });\n    }\n  };\n\n  async componentDidMount() {\n    if (this.props.book) {\n      this.setState({ editing: true });\n      this.modifyStateWithEditedBook(this.props.book);\n    }\n    const { data: categories } = await getCategories();\n    const { data: places } = await getPlaces();\n    const options = categories\n      .sort(function (a, b) {\n        return a.name > b.name ? 1 : b.name > a.name ? -1 : 0;\n      })\n      .map((cat) => {\n        return { value: cat.id, label: cat.name };\n      });\n    const placesOptions = places\n      .sort(function (a, b) {\n        return a.name > b.name ? 1 : b.name > a.name ? -1 : 0;\n      })\n      .map((pl) => {\n        return { value: pl.id, label: pl.name };\n      });\n    console.log(options);\n    this.setState({ options });\n    this.setState({ categories });\n    this.setState({ places });\n    this.setState({ placesOptions });\n  }\n\n  render() {\n    const {\n      categories,\n      options,\n      placesOptions,\n      places,\n      available,\n      image,\n      title,\n      author,\n      description,\n      quantity,\n      link,\n      location,\n      categoryId,\n      placeId,\n      editing,\n      addingCategory,\n      minQuantity,\n      image_link,\n      error,\n    } = this.state;\n\n    return (\n      <React.Fragment>\n        <form onSubmit={this.handleSubmit} noValidate>\n          <Input\n            label=\"Tytuł\"\n            name=\"title\"\n            value={title}\n            onChange={this.handleChange}\n            type=\"\"\n          />\n          <Input\n            label=\"Autor(ka)\"\n            name=\"author\"\n            value={author}\n            onChange={this.handleChange}\n            type=\"\"\n          />\n\n          <div className=\"form-group\">\n            <label>Wybierz kategorię</label>\n            <Select\n              options={options}\n              onChange={this.handleSelect}\n              value={options.find(({ value }) => value === categoryId)}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Wybierz lokalizację</label>\n            <Select\n              options={placesOptions}\n              onChange={this.handleSelectPlace}\n              value={placesOptions.find(({ value }) => value === placeId)}\n            />\n          </div>\n\n          <Input\n            label=\"Odnośnik\"\n            name=\"link\"\n            value={link}\n            onChange={this.handleChange}\n            type=\"\"\n          />\n          <div className=\"form-group\">\n            <label>Ilość egzemplarzy</label>\n            <input\n              className=\"form-control\"\n              name=\"quantity\"\n              value={quantity}\n              onChange={this.handleChange}\n              type=\"number\"\n              min={parseInt(minQuantity)}\n              noValidate\n            />\n          </div>\n          <Input\n            label=\"Wydawnictwo\"\n            name=\"location\"\n            value={location}\n            onChange={this.handleChange}\n            type=\"\"\n          />\n\n          <div className=\"form-group\">\n            <label htmlFor=\"exampleFormControlTextarea1\">Opis książki</label>\n            <textarea\n              className=\"form-control\"\n              rows=\"3\"\n              name=\"description\"\n              value={description}\n              onChange={this.handleChange}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Zdjęcie okładki</label>\n            {this.state.image ? (\n              <div>\n                <div>\n                  <img\n                    src={this.state.image}\n                    className=\"rounded\"\n                    alt=\"okładka\"\n                  />\n                </div>\n\n                <div>\n                  <button\n                    className=\"btn btn-dark\"\n                    onClick={() => this.setState({ image: null })}\n                    style={{ marginTop: 10 }}\n                  >\n                    Zmień zdjęcie\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <Dropzone onDrop={this.handleOnDrop}>\n                {({ getRootProps, getInputProps }) => (\n                  <div {...getRootProps()}>\n                    <input {...getInputProps()} />\n                    <div className=\"dropzone clickable\">\n                      Przeciągnij zdjęcie lub kliknij tutaj i wybierz je z\n                      plików.\n                    </div>\n                  </div>\n                )}\n              </Dropzone>\n            )}\n          </div>\n\n          <Input\n            label=\"Lub wstaw link do okładki\"\n            name=\"image_link\"\n            value={image_link}\n            onChange={this.handleChange}\n            type=\"\"\n          />\n\n          {this.validateForm() ? (\n            <div className=\"alert alert-danger\" role=\"alert\">\n              Wpisz przynajmniej Autorkę i Tytuł.{\" \"}\n            </div>\n          ) : (\n            <div className=\"alert alert-success\" role=\"alert\">\n              Gotowe :)\n            </div>\n          )}\n\n          {error && (\n            <div className=\"alert alert-danger\" role=\"alert\">\n              {error.message}\n            </div>\n          )}\n\n          <button\n            disabled={this.validateForm()}\n            type=\"submit\"\n            className=\"btn btn-primary\"\n          >\n            Zatwierdź\n          </button>\n        </form>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default AddBookForm;\n","import React from \"react\";\nimport AddBookForm from \"./addBookForm\";\n\nconst UpdateBook = (props) => {\n  return (\n    <div style={{ padding: 20 }}>\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <h2>\n            Edytowanie \"{props.book.title}\"\n            <button\n              type=\"button\"\n              className=\"close\"\n              aria-label=\"Close\"\n              onClick={(book) => {\n                props.onDoneEdit(null);\n              }}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </h2>\n\n          <AddBookForm\n            book={props.book}\n            history={props.history}\n            onDoneEdit={props.onDoneEdit}\n          ></AddBookForm>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UpdateBook;\n","import React from \"react\";\nimport AddBookForm from \"./addBookForm\";\n\nconst AddBook = (props) => {\n  return (\n    <div style={{ padding: 20 }}>\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <h2>\n            Dodawanie nowej książki\n            <button\n              type=\"button\"\n              className=\"close\"\n              aria-label=\"Close\"\n              onClick={(book) => {\n                console.log(\"QUIT\");\n                props.onDoneAdd(null);\n              }}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </h2>\n\n          <AddBookForm onDoneAdd={props.onDoneAdd} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddBook;\n","import axios from \"axios\";\n\nconst apiEndpoint = process.env.REACT_APP_API_URL + \"borrowings/\";\n\nexport function editBorrowing(data) {\n  return axios({\n    method: \"put\",\n    url: apiEndpoint + data.id,\n    headers: { authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    data,\n  });\n}\n\nexport function returnBook(borrowingId) {\n  const data = {\n    active: false,\n  };\n  return axios({\n    method: \"put\",\n    url: apiEndpoint + borrowingId,\n    headers: { authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    data,\n  });\n}\n\nexport function addBorrowing(data) {\n  console.log(\"w serwisie: \", data);\n  return axios({\n    method: \"post\",\n    url: apiEndpoint,\n    headers: {\n      authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n    },\n    data,\n  });\n}\n","import axios from \"axios\";\n\nconst apiEndpoint = process.env.REACT_APP_API_URL + \"readers/\";\n\nexport function getReaders() {\n  return axios.get(apiEndpoint);\n}\n\nexport function getReader(id) {\n  return axios.get(apiEndpoint + id);\n}\n\nexport function getReadersBorrowings(id) {\n  return axios.get(apiEndpoint + id + \"/borrowings\");\n}\n\nexport function addReader(name) {\n  return axios({\n    method: \"post\",\n    url: apiEndpoint,\n    headers: {\n      authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n    },\n    data: {\n      name,\n    },\n  });\n}\n\nexport function deleteReader(id) {\n  return axios({\n    method: \"delete\",\n    url: apiEndpoint + id,\n    headers: { authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n  });\n}\n\nexport function updateReader(id, name) {\n  return axios({\n    method: \"put\",\n    url: apiEndpoint + id,\n    headers: { authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    data: {\n      id,\n      name,\n    },\n  });\n}\n","import React, {Component} from \"react\";\nimport Input from \"./common/input\";\nimport {addBorrowing} from \"../services/borrowingService\";\nimport {getReaders} from \"../services/readerService\";\nimport Select from \"react-select\";\n\nclass BorrowingForm extends Component {\n    state = {\n        date: \"\",\n        quantity: 1,\n        personId: null,\n        personName: \"\",\n        options: [],\n    };\n\n    handleSubmit = (e) => {\n        const {date, quantity, personId, personName} = this.state;\n        const {book} = this.props;\n        e.preventDefault();\n\n\n        addBorrowing({\n            bookId: book.id,\n            readerId: personId,\n            readerName: personName,\n            date: date,\n            quantity: quantity,\n        });\n\n        this.props.onDoneBorrow(null);\n    };\n\n    async componentDidMount() {\n        this.setState({book: this.props.book});\n        const {data: readers} = await getReaders();\n        const options = readers\n            .sort(function (a, b) {\n                return a.name > b.name ? 1 : b.name > a.name ? -1 : 0;\n            })\n            .map((reader) => {\n                return {value: reader.id, label: reader.name};\n            });\n        this.setState({options});\n    }\n\n    handleChange = (e) => {\n        this.setState({[e.target.name]: e.target.value});\n    };\n\n    handleSelect = (e) => {\n        this.setState({personId: e.value, personName: e.label});\n    };\n\n    render() {\n        const {date, quantity, options} = this.state;\n        return (\n            <React.Fragment>\n                <form onSubmit={this.handleSubmit} noValidate>\n                    <div className=\"form-group\">\n                        <label>Wybierz czytelnika_czkę</label>\n                        <Select options={options} onChange={this.handleSelect}/>\n                    </div>\n\n                    <Input\n                        label=\"Data\"\n                        name=\"date\"\n                        value={date}\n                        onChange={this.handleChange}\n                        type=\"date\"\n                    />\n                    <div className=\"form-group\">\n                        <label>Wypożyczana ilość</label>\n                        <input\n                            className=\"form-control\"\n                            name=\"quantity\"\n                            value={quantity}\n                            onChange={this.handleChange}\n                            type=\"number\"\n                            max={this.props.book.available}\n                            min={1}\n                            noValidate\n                        />\n                    </div>\n\n                    <button type=\"submit\" className=\"btn btn-primary\">\n                        Zatwierdź\n                    </button>\n                </form>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default BorrowingForm;\n","import React from \"react\";\nimport BorrowingForm from \"./borrowingForm\";\n\nconst BorrowBook = (props) => {\n  return (\n    <div style={{ padding: 20 }}>\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <h2>\n            Wypożyczanie \"{props.book.title}\"\n            <button\n              type=\"button\"\n              className=\"close\"\n              aria-label=\"Close\"\n              onClick={(book) => {\n                props.onDoneBorrow(null);\n              }}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </h2>\n\n          <BorrowingForm\n            book={props.book}\n            history={props.history}\n            onDoneBorrow={props.onDoneBorrow}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BorrowBook;\n","import React, { Component } from \"react\";\nimport Pagination from \"./common/pagination\";\nimport BooksTable from \"./booksTable\";\nimport Categories from \"./categories\";\nimport Places from \"./places\";\nimport { getBooks, deleteBook } from \"../services/bookService\";\nimport { getCategories } from \"../services/categoryService\";\nimport UpdateBook from \"./updateBook\";\nimport AddBook from \"./addBook\";\nimport BorrowBook from \"./borrowBook\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\nimport { getReaders } from \"../services/readerService\";\nimport { Alert, Spinner } from \"react-bootstrap\";\nimport { getPlaces } from \"../services/placeService\";\n\nexport class BooksView extends Component {\n  state = {\n    books: [],\n    pageSize: 10,\n    totalCount: 0,\n    currentPage: 1,\n    sortColumn: {\n      name: \"title\",\n      order: \"asc\",\n    },\n    categories: [],\n    places: [],\n    currentCategory: null,\n    categoriesLookup: new Map(),\n    placesLookup: new Map(),\n    logged: localStorage.getItem(\"token\"),\n    editedBook: null,\n    borrowedBook: null,\n    adding: false,\n    loading: false,\n    addingCategory: false,\n    searchPhrase: \"\",\n    error: null,\n  };\n\n  async reloadBooks(page, categoryId, search, sortColumn) {\n    this.setState({ loading: true });\n    try {\n      const { data: booksRes } = await getBooks({\n        page,\n        categoryId,\n        search,\n        sortBy: sortColumn.name,\n        order: sortColumn.order,\n      });\n\n      const { results = [], totalCount = 0 } = booksRes;\n\n      this.setState({ books: results, loading: false, totalCount: totalCount });\n    } catch (e) {\n      console.error(e.message);\n      this.setState({\n        loading: false,\n        error: new Error(\"Nie można pobrać książek :(\"),\n      });\n    }\n  }\n\n  async componentDidMount() {\n    const { currentPage, currentCategory, searchPhrase, sortColumn } =\n      this.state;\n    this.reloadBooks(currentPage, currentCategory, searchPhrase, sortColumn);\n    const { data: cat } = await getCategories();\n    const { data: pl } = await getPlaces();\n    cat.sort((a, b) => (a.name > b.name ? 1 : b.name > a.name ? -1 : 0));\n    this.setState({\n      categories: cat,\n      places: pl,\n    });\n\n    const readersData = await getReaders();\n    const readers = new Map();\n    readersData.data.map((r) => readers.set(r.id, r.name));\n    this.setState({ readers });\n    const lookup = new Map();\n    cat.map((cat) => lookup.set(cat.id, cat.name));\n    this.setState({ categoriesLookup: lookup });\n    const lookup2 = new Map();\n    pl.map((pl) => lookup2.set(pl.id, pl.name));\n    this.setState({ placesLookup: lookup2 });\n  }\n\n  confirmDelete = (book) => {\n    confirmAlert({\n      title: `Usuwanie ${book.title}`,\n      message: \"Jesteś pewna?\",\n      buttons: [\n        {\n          label: \"Tak\",\n          onClick: () => this.handleDelete(book),\n        },\n      ],\n    });\n  };\n\n  handleDelete = async (book) => {\n    console.log(\"Deleting\", book);\n    const books = this.state.books.filter((b) => b.id !== book.id);\n    console.log(books);\n    this.setState({ books });\n    deleteBook(book.id);\n  };\n\n  handleEdit = (book) => {\n    console.log(\"Editing\");\n    this.setState({ adding: false });\n    this.setState({ borrowedBook: null });\n    this.setState({ editedBook: book });\n    window.scrollTo(0, 0);\n  };\n\n  handleEditDone = (book) => {\n    if (book) {\n      let books = [];\n      this.state.books.forEach((b) => {\n        if (b.id === book.id) {\n          books.push(book);\n        } else {\n          books.push(b);\n        }\n      });\n\n      this.setState({ books });\n    }\n    this.setState({ editedBook: null });\n  };\n\n  handleAdd = () => {\n    this.setState({ adding: true });\n    window.scrollTo(0, 0); // this.props.history.push(\"/new-book\");\n  };\n\n  handleAddDone = (book) => {\n    if (book) {\n      let books = this.state.books;\n      books.push(book);\n      this.setState({ books });\n    }\n\n    this.setState({ adding: false });\n  };\n\n  handleBorrow = (book) => {\n    this.setState({ adding: false });\n    this.setState({ editedBook: null });\n    this.setState({ borrowedBook: book });\n    window.scrollTo(0, 0);\n    console.log(\"handleBorrow\", book);\n  };\n\n  handleBorrowDone = (book) => {\n    if (book) {\n      console.log(\"Wypożyczona\");\n    }\n    this.setState({ borrowedBook: null });\n  };\n\n  handlePageChange = async (page) => {\n    this.setState({ currentPage: page });\n    const { currentCategory, searchPhrase, sortColumn } = this.state;\n    await this.reloadBooks(page, currentCategory, searchPhrase, sortColumn);\n  };\n\n  handleSort = async (column) => {\n    let { sortColumn, currentPage, currentCategory, searchPhrase } = this.state;\n    if (sortColumn.name === column) {\n      sortColumn.order = sortColumn.order === \"asc\" ? \"desc\" : \"asc\";\n    } else {\n      sortColumn = { name: column, order: \"asc\" };\n    }\n\n    await this.reloadBooks(1, currentCategory, searchPhrase, sortColumn);\n    this.setState({ sortColumn, currentPage: 1 });\n  };\n\n  handleFilter = async (category) => {\n    console.log(category);\n    const { searchPhrase, sortColumn } = this.state;\n    await this.reloadBooks(1, category, searchPhrase, sortColumn);\n    this.setState({ currentCategory: category, currentPage: 1 });\n  };\n\n  handleSearchEdit = (event) => {\n    console.log(event.target.value);\n    this.setState({ searchPhrase: event.target.value });\n  };\n\n  handleSearchSubmit = async (e) => {\n    e.preventDefault();\n    const { category, searchPhrase, sortColumn } = this.state;\n    await this.reloadBooks(1, category, searchPhrase, sortColumn);\n  };\n\n  myRef = null;\n\n  render() {\n    const {\n      adding,\n      books,\n      readers,\n      pageSize,\n      currentPage,\n      sortColumn,\n      categories,\n      places,\n      currentCategory,\n      categoriesLookup,\n      placesLookup,\n      logged,\n      loading,\n      editedBook,\n      borrowedBook,\n      error,\n    } = this.state;\n\n    return (\n      <React.Fragment>\n        <div>\n          {adding && <AddBook onDoneAdd={this.handleAddDone} />}\n\n          {editedBook && (\n            <UpdateBook\n              book={editedBook}\n              history={this.props.history}\n              onDoneEdit={this.handleEditDone}\n            />\n          )}\n\n          {borrowedBook && (\n            <BorrowBook\n              book={borrowedBook}\n              history={this.props.history}\n              onDoneBorrow={this.handleBorrowDone}\n            />\n          )}\n\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\n            <div className={\"form-element\"}>\n              <Categories\n                categories={categories}\n                onFilter={this.handleFilter}\n                current={categoriesLookup.get(currentCategory)}\n              />\n            </div>\n\n            <div className={\"form-element\"}>\n              {currentCategory && (\n                <h6>{categoriesLookup.get(currentCategory)}</h6>\n              )}\n            </div>\n\n            <div>\n              {logged && !adding && !editedBook && (\n                <button\n                  className=\"btn btn-warning form-element\"\n                  onClick={this.handleAdd}\n                >\n                  Dodaj książkę\n                </button>\n              )}\n            </div>\n\n            <div style={{ flexGrow: 1 }} />\n\n            <form\n              onSubmit={this.handleSearchSubmit}\n              noValidate\n              style={{ display: \"flex\", alignItems: \"center\" }}\n            >\n              <div className={\"form-element\"}>\n                <input\n                  placeholder=\"Wyszukaj\"\n                  name=\"search\"\n                  value={this.state.searchPhrase}\n                  onChange={this.handleSearchEdit}\n                  type=\"\"\n                />\n              </div>\n\n              <div>\n                <button className=\"btn btn-info form-element\">Szukaj</button>\n              </div>\n            </form>\n          </div>\n\n          {error && <Alert variant={\"danger\"}>{error.message}</Alert>}\n\n          {loading && (\n            <div\n              style={{ display: \"flex\", justifyContent: \"center\", padding: 5 }}\n            >\n              <Spinner animation=\"border\" />\n            </div>\n          )}\n\n          <BooksTable\n            books={books}\n            categories={categoriesLookup}\n            places={placesLookup}\n            onDelete={this.confirmDelete}\n            onEdit={this.handleEdit}\n            onSort={this.handleSort}\n            onBorrow={this.handleBorrow}\n            logged={logged}\n            readers={readers}\n            loading={loading}\n          />\n        </div>\n\n        <Pagination\n          itemsCount={this.state.totalCount}\n          pageSize={pageSize}\n          onPageChange={this.handlePageChange}\n          currentPage={currentPage}\n        />\n        <div ref={(ref) => (this.myRef = ref)}></div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default BooksView;\n","import React, { Component } from \"react\";\nimport { Nav, Navbar, Form, Button } from \"react-bootstrap\";\n\nclass Navigation extends Component {\n  render() {\n    return (\n      <React.Fragment>\n        <Navbar sticky=\"top\" bg=\"light\" expand=\"lg\">\n          <Navbar.Brand\n            // href={`https://koalabzium.github.io/MamaWebsiteFront/books`}\n            href={`/`}\n          >\n            Biblioteka\n          </Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            {/* <Nav className=\"mr-auto\">\n              <Nav.Link\n                // href={`https://koalabzium.github.io/MamaWebsiteFront/books`}\n                href={`/books`}\n              >\n                Książki\n              </Nav.Link>\n            </Nav> */}\n            <Form inline>\n              <Button variant=\"outline-dark\" href={`/admin`}>\n                Panel adminki\n              </Button>\n            </Form>\n          </Navbar.Collapse>\n        </Navbar>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Navigation;\n","import axios from \"axios\";\n\nconst apiEndpoint = process.env.REACT_APP_API_URL + \"login\";\n\nexport function login(name, password) {\n  return axios({\n    method: \"post\",\n    url: apiEndpoint,\n    headers: {},\n    data: {\n      name,\n      password,\n    },\n  });\n}\n","import React, { Component } from \"react\";\nimport { login } from \"../services/loginService\";\n\nclass LoginForm extends Component {\n  state = {\n    account: {\n      username: \"\",\n      password: \"\",\n    },\n\n    errors: null,\n  };\n\n  validate = () => {\n    const { account } = this.state;\n    const errors = [];\n    if (account.username === \"\") {\n      errors.push(\"Nazwa użytkowniczki jest wymagana.\");\n    }\n\n    if (account.password === \"\") {\n      errors.push(\"Hasło jest wymagane.\");\n    }\n\n    return errors.length === 0 ? null : errors;\n  };\n\n  handleSubmit = async (e) => {\n    e.preventDefault();\n    const errors = this.validate();\n    if (errors != null) {\n      this.setState({ errors });\n      return;\n    }\n    try {\n      const { data: jwt } = await login(\n        this.state.account.username,\n        this.state.account.password\n      );\n      localStorage.setItem(\"token\", jwt.token);\n      this.setState({ errors: null });\n      this.props.handleLogin();\n    } catch (e) {\n      console.log(e);\n      const errors = [];\n      errors.push(\"Zły login lub hasło :(\");\n      this.setState({ errors });\n    }\n  };\n\n  handleChange = (e) => {\n    const account = { ...this.state.account };\n    account[e.currentTarget.name] = e.currentTarget.value;\n    this.setState({ account });\n  };\n\n  render() {\n    const { account, errors } = this.state;\n    return (\n      <React.Fragment>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xl-5 col-lg-6 col-md-8 col-sm-10 mx-auto form p-4\">\n              <h1>Zaloguj się</h1>\n              <form\n                className=\"justify-content-center\"\n                onSubmit={this.handleSubmit}\n              >\n                {errors && (\n                  <div className=\"alert alert-danger\">\n                    {errors.map((error) => (\n                      <h6 key={error}>{error}</h6>\n                    ))}\n                  </div>\n                )}\n                <div className=\"form-group\">\n                  <label>Nazwa użytkowniczki</label>\n                  <input\n                    onChange={this.handleChange}\n                    value={account.username}\n                    autoFocus\n                    name=\"username\"\n                    className=\"form-control\"\n                    placeholder=\"Podaj nazwę użytkowniczki\"\n                  ></input>\n                </div>\n                <div className=\"form-group\">\n                  <label>Hasło</label>\n                  <input\n                    onChange={this.handleChange}\n                    value={account.password}\n                    type=\"password\"\n                    name=\"password\"\n                    className=\"form-control\"\n                    id=\"exampleInputPassword1\"\n                    placeholder=\"Podaj hasło\"\n                  ></input>\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary\">\n                  Zaloguj\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React, { Component } from \"react\";\nimport {\n  getCategories,\n  deleteCategory,\n  updateCategory,\n  addCategory,\n} from \"../services/categoryService\";\n\nclass ManageCategories extends Component {\n  state = {\n    categories: [],\n    editing: false,\n    adding: false,\n    new_category: \"\",\n    edited_category: \"\",\n  };\n\n  async componentDidMount() {\n    const categories = await getCategories();\n    const categories_data = categories.data.map((cat) => ({\n      ...cat,\n      edited: false,\n    }));\n    categories_data.sort(function (a, b) {\n      return a.name > b.name ? 1 : b.name > a.name ? -1 : 0;\n    });\n    this.setState({ categories: categories_data });\n  }\n\n  handleDelete = async (category) => {\n    const categories = this.state.categories.filter(\n      (c) => c.id !== category.id\n    );\n    this.setState({ categories });\n    await deleteCategory(category.id);\n    console.log(\"usuwanko\");\n  };\n\n  handleAdd = async (e) => {\n    if (e.key === \"Enter\") {\n      const categories = this.state.categories;\n      categories.push({\n        id: null,\n        name: this.state.new_category,\n      });\n      this.setState({ categories });\n      const name = this.state.new_category;\n      this.setState({ new_category: \"\" });\n      await addCategory(name);\n    }\n  };\n\n  handleEdit = async (e, category) => {\n    if (e.key === \"Enter\") {\n      const categories = this.state.categories.map((cat) =>\n        cat.id === category.id\n          ? { ...cat, name: this.state.edited_category, edited: false }\n          : cat\n      );\n      this.setState({ categories });\n      const name = this.state.edited_category;\n      this.setState({ edited_category: \"\" });\n      await updateCategory(category.id, name);\n    }\n  };\n\n  toEdit = (category) => {\n    const categories = this.state.categories.map((cat) =>\n      cat.id === category.id ? { ...cat, edited: true } : cat\n    );\n    this.setState({ edited_category: category.name });\n    this.setState({ categories });\n  };\n\n  handleChange = (e) => {\n    this.setState({ new_category: e.target.value });\n  };\n\n  handleEditChange = (e) => {\n    this.setState({ edited_category: e.target.value });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <div style={{ padding: 20 }}>\n          <div className=\"card category\">\n            <div className=\"card-body\">\n              <h2>Zarządzaj kategoriami </h2>\n              <table className=\"table table-hover\">\n                <tbody>\n                  {this.state.categories.map((category) => (\n                    <tr key={category.id}>\n                      {category.edited ? (\n                        <input\n                          className=\"form-control\"\n                          value={this.state.edited_category}\n                          onChange={this.handleEditChange}\n                          onKeyDown={(e) => this.handleEdit(e, category)}\n                          noValidate\n                        />\n                      ) : (\n                        <td onClick={() => this.toEdit(category)}>\n                          {category.name}\n                        </td>\n                      )}\n\n                      <td>\n                        <button\n                          className=\"btn btn-danger btn-sm\"\n                          onClick={() => this.handleDelete(category)}\n                        >\n                          X\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                  <tr>\n                    <input\n                      className=\"form-control\"\n                      value={this.state.new_category}\n                      onChange={this.handleChange}\n                      onKeyDown={this.handleAdd}\n                      placeholder=\"Nowa kategoria...\"\n                      noValidate\n                    />\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ManageCategories;\n","import React, { Component } from \"react\";\nimport {\n  getReaders,\n  deleteReader,\n  updateReader,\n  addReader,\n} from \"../services/readerService\";\n\nclass ManageReaders extends Component {\n  state = {\n    readers: [],\n    editing: false,\n    adding: false,\n    new_reader: \"\",\n    edited_reader: \"\",\n  };\n\n  async componentDidMount() {\n    const readers = await getReaders();\n    const readers_data = readers.data.map((cat) => ({\n      ...cat,\n      edited: false,\n    }));\n    readers_data.sort(function (a, b) {\n      return a.name > b.name ? 1 : b.name > a.name ? -1 : 0;\n    });\n    this.setState({ readers: readers_data });\n  }\n\n  handleDelete = async (reader) => {\n    const readers = this.state.readers.filter((c) => c.id !== reader.id);\n    this.setState({ readers });\n    await deleteReader(reader.id);\n    console.log(\"usuwanko\");\n  };\n\n  handleAdd = async (e) => {\n    if (e.key === \"Enter\") {\n      const readers = this.state.readers;\n      readers.push({\n        id: null,\n        name: this.state.new_reader,\n      });\n      this.setState({ readers });\n      const name = this.state.new_reader;\n      this.setState({ new_reader: \"\" });\n      await addReader(name);\n    }\n  };\n\n  handleEdit = async (e, reader) => {\n    if (e.key === \"Enter\") {\n      const readers = this.state.readers.map((cat) =>\n        cat.id === reader.id\n          ? { ...cat, name: this.state.edited_reader, edited: false }\n          : cat\n      );\n      this.setState({ readers });\n      const name = this.state.edited_reader;\n      this.setState({ edited_reader: \"\" });\n      await updateReader(reader.id, name);\n    }\n  };\n\n  toEdit = (reader) => {\n    const readers = this.state.readers.map((cat) =>\n      cat.id === reader.id ? { ...cat, edited: true } : cat\n    );\n    this.setState({ edited_reader: reader.name });\n    this.setState({ readers });\n  };\n\n  handleChange = (e) => {\n    this.setState({ new_reader: e.target.value });\n  };\n\n  handleEditChange = (e) => {\n    this.setState({ edited_reader: e.target.value });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <div style={{ padding: 20 }}>\n          <div className=\"card category\">\n            <div className=\"card-body\">\n              <h2>Czytelniczki i czytelnicy </h2>\n              <table className=\"table table-hover\">\n                <tbody>\n                  {this.state.readers.map((reader) => (\n                    <tr key={reader.id}>\n                      {reader.edited ? (\n                        <input\n                          className=\"form-control\"\n                          value={this.state.edited_reader}\n                          onChange={this.handleEditChange}\n                          onKeyDown={(e) => this.handleEdit(e, reader)}\n                          noValidate\n                        />\n                      ) : (\n                        <td onClick={() => this.toEdit(reader)}>\n                          {reader.name}\n                        </td>\n                      )}\n\n                      <td>\n                        <button\n                          className=\"btn btn-danger btn-sm\"\n                          onClick={() => this.handleDelete(reader)}\n                        >\n                          X\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                  <tr>\n                    <input\n                      className=\"form-control\"\n                      value={this.state.new_reader}\n                      onChange={this.handleChange}\n                      onKeyDown={this.handleAdd}\n                      placeholder=\"Nowa czytelniczka...\"\n                      noValidate\n                    />\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ManageReaders;\n","import React, { Component } from \"react\";\nimport {\n  getPlaces,\n  deletePlace,\n  updatePlace,\n  addPlace,\n} from \"../services/placeService\";\n\nclass ManagePlaces extends Component {\n  state = {\n    places: [],\n    editing: false,\n    adding: false,\n    new_place: \"\",\n    edited_place: \"\",\n  };\n\n  async componentDidMount() {\n    const places = await getPlaces();\n    const places_data = places.data.map((cat) => ({\n      ...cat,\n      edited: false,\n    }));\n    places_data.sort(function (a, b) {\n      return a.name > b.name ? 1 : b.name > a.name ? -1 : 0;\n    });\n    this.setState({ places: places_data });\n  }\n\n  handleDelete = async (place) => {\n    const places = this.state.places.filter((c) => c.id !== place.id);\n    this.setState({ places });\n    await deletePlace(place.id);\n    console.log(\"usuwanko\");\n  };\n\n  handleAdd = async (e) => {\n    if (e.key === \"Enter\") {\n      const places = this.state.places;\n      places.push({\n        id: null,\n        name: this.state.new_place,\n      });\n      this.setState({ places });\n      const name = this.state.new_place;\n      this.setState({ new_place: \"\" });\n      await addPlace(name);\n    }\n  };\n\n  handleEdit = async (e, place) => {\n    if (e.key === \"Enter\") {\n      const places = this.state.places.map((cat) =>\n        cat.id === place.id\n          ? { ...cat, name: this.state.edited_place, edited: false }\n          : cat\n      );\n      this.setState({ places });\n      const name = this.state.edited_place;\n      this.setState({ edited_place: \"\" });\n      await updatePlace(place.id, name);\n    }\n  };\n\n  toEdit = (place) => {\n    const places = this.state.places.map((cat) =>\n      cat.id === place.id ? { ...cat, edited: true } : cat\n    );\n    this.setState({ edited_place: place.name });\n    this.setState({ places });\n  };\n\n  handleChange = (e) => {\n    this.setState({ new_place: e.target.value });\n  };\n\n  handleEditChange = (e) => {\n    this.setState({ edited_place: e.target.value });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <div style={{ padding: 20 }}>\n          <div className=\"card place\">\n            <div className=\"card-body\">\n              <h2>Zarządzaj lokalizacjami </h2>\n              <table className=\"table table-hover\">\n                <tbody>\n                  {this.state.places.map((place) => (\n                    <tr key={place.id}>\n                      {place.edited ? (\n                        <input\n                          className=\"form-control\"\n                          value={this.state.edited_place}\n                          onChange={this.handleEditChange}\n                          onKeyDown={(e) => this.handleEdit(e, place)}\n                          noValidate\n                        />\n                      ) : (\n                        <td onClick={() => this.toEdit(place)}>{place.name}</td>\n                      )}\n\n                      <td>\n                        <button\n                          className=\"btn btn-danger btn-sm\"\n                          onClick={() => this.handleDelete(place)}\n                        >\n                          X\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                  <tr>\n                    <input\n                      className=\"form-control\"\n                      value={this.state.new_place}\n                      onChange={this.handleChange}\n                      onKeyDown={this.handleAdd}\n                      placeholder=\"Nowa kategoria...\"\n                      noValidate\n                    />\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ManagePlaces;\n","import React, { Component } from \"react\";\nimport LoginForm from \"./loginForm\";\nimport ManageCategories from \"./manageCategories\";\nimport ManageReaders from \"./manageReaders\";\nimport ManagePlaces from \"./managePlaces\";\n\nclass AdminPanel extends Component {\n  state = {\n    logged_in: false,\n  };\n\n  componentDidMount() {\n    const jwt = localStorage.getItem(\"token\");\n    if (jwt) {\n      this.setState({ logged_in: true });\n    } else {\n      this.setState({ logged_in: false });\n    }\n  }\n\n  handleLogin = () => {\n    this.setState({ logged_in: true });\n  };\n\n  handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    this.setState({ logged_in: false });\n  };\n\n  render() {\n    return (\n      <div>\n        {this.state.logged_in ? (\n          <div>\n            <h1>Witaj Marysiu!</h1>\n            <button onClick={this.handleLogout} className=\"btn btn-primary\">\n              Wyloguj się\n            </button>\n            <div className=\"row\">\n              <div className=\"col\">\n                <ManageCategories />\n              </div>\n              <div className=\"col\">\n                <ManageReaders />\n              </div>\n              <div className=\"col\">\n                <ManagePlaces />\n              </div>\n            </div>\n          </div>\n        ) : (\n          <LoginForm\n            history={this.props.history}\n            handleLogin={this.handleLogin}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default AdminPanel;\n","import React from \"react\";\n\nconst NotFound = () => {\n  return <h1>Nie ma takiej strony :( </h1>;\n};\n\nexport default NotFound;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport BooksView from \"./components/books\";\nimport Navigation from \"./components/naviagtion\";\nimport AdminPanel from \"./components/adminPanel\";\nimport NotFound from \"./components/notFound\";\nimport UpdateBook from \"./components/updateBook\";\n\nclass App extends Component {\n  state = {};\n\n  render() {\n    return (\n      <React.Fragment>\n        <Navigation />\n        <main className=\"container m-3\">\n          <Switch>\n            <Route path={`/books`} exact component={BooksView}></Route>\n            <Route path={`/admin`} component={AdminPanel}></Route>\n            <Route path={`/edit/:title`} component={UpdateBook}></Route>\n\n            <Route path={`/not-found`} component={NotFound}></Route>\n            <Redirect from={`/`} exact to={`/books`} />\n            <Redirect to={`/not-found`} />\n          </Switch>\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}